<!DOCTYPE html>
<!--

//-->
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" id="jquery-js"></script>
	<script src="js/garlic.js" id="jquery-js"></script>
	<title>ダイマックス火力計算(仮)</title>
	<style>
		main > .container {
			padding: 87px 0 0;
		}
		.pokeimg {
			width: 50px;
			height: 50px;
		}
		.pokeicon {
			margin-left: 70px;
		}
	</style>
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<span class="navbar-brand">ダイマックス火力計算(仮)</span>
		</nav>
	</header>
	<main role="main" class="flex-shrink-0">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<form id="damagecacl" data-persist="garlic">
						<div class="row">
							<div class="col-sm">
								<p>・ポケモン1</p>
								<p>poke：<select id="poke1" name="poke1"></select> </p>
								<p>攻個体値：<input type="number" name="poke1_a" value="15" maxlength="2" style="width:90px;"> </p>
								<p>防個体値：<input type="number" name="poke1_b" value="15" maxlength="2" style="width:90px;"> </p>
								<p>HP個体値：<input type="number" name="poke1_h" value="15" maxlength="2" style="width:90px;"> </p>
								<p>レベル　：<input type="number" name="poke1_l" value="50" maxlength="4" style="width:90px;" step="0.1"> </p>
								<p>
									倍率補正： 
									<select id="poke1_week" name="poke1_week">
									<option value="4">二重弱点</option>
									<option value="3" selected>弱点</option>
									<option value="0">等倍</option>
									<option value="1">耐性</option>
									<option value="2">2重耐性</option>
									</select>
								</p>
								<p>
									技威力： 
									<select id="poke1_a_l" name="poke1_a_l">
									<option value="250">250 通常Lv1</option>
									<option value="300">300 通常Lv2</option>
									<option value="350">350 通常Lv3</option>
									<option value="450">450 通常Lv4</option>
									<option value="350">350 キョLv1</option>
									<option value="400">400 キョLv2</option>
									<option value="450" selected>450 キョLv3</option>
									<option value="550">550 キョLv4</option>
									</select>
								</p>
								<div class="pokeicon"><span id="poke1_img"></span></div>
								<p>攻：<span id="poke1_a_w"></span><br />防：<span id="poke1_b_w"></span><br />HP：<span id="poke1_h_w"></span></p>
								<p>火力指数：<span id="poke1_a_index"></span></p>
							</div>
							<div class="col-sm">
								<p>・ポケモン2</p>
								<p>poke：<select id="poke2" name="poke2"></select> </p>
								<p>攻個体値：<input type="number" name="poke2_a" value="15" maxlength="2" style="width:90px;"> </p>
								<p>防個体値：<input type="number" name="poke2_b" value="15" maxlength="2" style="width:90px;"> </p>
								<p>HP個体値：<input type="number" name="poke2_h" value="15" maxlength="2" style="width:90px;"> </p>
								<p>レベル　：<input type="number" name="poke2_l" value="50" maxlength="4" style="width:90px;" step="0.1"> </p>
								<p>
									倍率補正： 
									<select id="poke2_week" name="poke2_week">
									<option value="4">二重弱点</option>
									<option value="3" selected>弱点</option>
									<option value="0">等倍</option>
									<option value="1">耐性</option>
									<option value="2">2重耐性</option>
									</select>
								</p>
								<p>
									技威力： 
									<select id="poke2_a_l" name="poke2_a_l">
									<option value="250">250 通常Lv1</option>
									<option value="300">300 通常Lv2</option>
									<option value="350">350 通常Lv3</option>
									<option value="450">450 通常Lv4</option>
									<option value="350">350 キョLv1</option>
									<option value="400">400 キョLv2</option>
									<option value="450" selected>450 キョLv3</option>
									<option value="550">550 キョLv4</option>
									</select>
								</p>
								<div class="pokeicon"><span id="poke2_img"></span></div>
								<p>攻：<span id="poke2_a_w"></span><br />防：<span id="poke2_b_w"></span><br />HP：<span id="poke2_h_w"></span></p>
								<p>火力指数：<span id="poke2_a_index"></span></p>
							</div>
							<div class="col-sm">
								<p>・基準用</p>
								<p>poke：<select id="poke3" name="poke3"></select> </p>
								<p>攻個体値：<input type="number" name="poke3_a" value="15" maxlength="2" style="width:90px;"> </p>
								<p>防個体値：<input type="number" name="poke3_b" value="15" maxlength="2" style="width:90px;"> </p>
								<p>HP個体値：<input type="number" name="poke3_h" value="15" maxlength="2" style="width:90px;"> </p>
								<p>レベル　：<input type="number" name="poke3_l" value="50" maxlength="4" style="width:90px;" step="0.1"> </p>
								<p>
									倍率補正： 
									<select id="poke3_week" name="poke3_week">
									<option value="4">二重弱点</option>
									<option value="3" selected>弱点</option>
									<option value="0">等倍</option>
									<option value="1">耐性</option>
									<option value="2">2重耐性</option>
									</select>
								</p>
								<p>
									技威力： 
									<select id="poke3_a_l" name="poke3_a_l">
									<option value="250">250 通常Lv1</option>
									<option value="300">300 通常Lv2</option>
									<option value="350">350 通常Lv3</option>
									<option value="450">450 通常Lv4</option>
									<option value="350">350 キョLv1</option>
									<option value="400">400 キョLv2</option>
									<option value="450" selected>450 キョLv3</option>
									<option value="550">550 キョLv4</option>
									</select>
								</p>
								<div class="pokeicon"><span id="poke3_img"></span></div>
								<p>攻：<span id="poke3_a_w"></span><br />防：<span id="poke3_b_w"></span><br />HP：<span id="poke3_h_w"></span></p>
								<p>火力指数：<span id="poke3_a_index"></span></p>
							</div>
						</div>
						<div class="col-sm">
							<p><input type="submit" value="データリセット" class="btn btn-primary"></p>
						</div>
					</form>
				</div>
			</div>
			<div class="row">
				<div class="col-sm">
					<table class="table table-hover">
						<tbody>
							<tr>
								<td id="damagecacl1"></td>
							</tr>
							<tr>
								<td id="damagecacl2"></td>
							</tr>
							<tr>
								<td id="damagecacl3"></td>
							</tr>
							<tr>
								<td id="damagecacl4"></td>
							</tr>
							<tr>
								<td>
									・お知らせ・<br />
									<br />
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<script>
				//データセット

					var cpm = [
						{"PL":1,"CPM":0.0939999967813491},
						{"PL":1.5,"CPM":0.135137430784308},
						{"PL":2,"CPM":0.166397869586944},
						{"PL":2.5,"CPM":0.192650914456886},
						{"PL":3,"CPM":0.215732470154762},
						{"PL":3.5,"CPM":0.236572655026622},
						{"PL":4,"CPM":0.255720049142837},
						{"PL":4.5,"CPM":0.273530381100769},
						{"PL":5,"CPM":0.29024988412857},
						{"PL":5.5,"CPM":0.306057381335773},
						{"PL":6,"CPM":0.321087598800659},
						{"PL":6.5,"CPM":0.335445032295077},
						{"PL":7,"CPM":0.349212676286697},
						{"PL":7.5,"CPM":0.36245774877879},
						{"PL":8,"CPM":0.375235587358474},
						{"PL":8.5,"CPM":0.387592411085168},
						{"PL":9,"CPM":0.399567276239395},
						{"PL":9.5,"CPM":0.41119354951725},
						{"PL":10,"CPM":0.422500014305114},
						{"PL":10.5,"CPM":0.432926413410414},
						{"PL":11,"CPM":0.443107545375824},
						{"PL":11.5,"CPM":0.453059953871985},
						{"PL":12,"CPM":0.46279838681221},
						{"PL":12.5,"CPM":0.472336077786704},
						{"PL":13,"CPM":0.481684952974319},
						{"PL":13.5,"CPM":0.490855810259008},
						{"PL":14,"CPM":0.499858438968658},
						{"PL":14.5,"CPM":0.508701756943992},
						{"PL":15,"CPM":0.517393946647644},
						{"PL":15.5,"CPM":0.525942508771329},
						{"PL":16,"CPM":0.534354329109191},
						{"PL":16.5,"CPM":0.542635762230353},
						{"PL":17,"CPM":0.550792694091796},
						{"PL":17.5,"CPM":0.558830599438087},
						{"PL":18,"CPM":0.566754519939422},
						{"PL":18.5,"CPM":0.574569148039264},
						{"PL":19,"CPM":0.582278907299041},
						{"PL":19.5,"CPM":0.589887911977272},
						{"PL":20,"CPM":0.59740000963211},
						{"PL":20.5,"CPM":0.604823657502073},
						{"PL":21,"CPM":0.61215728521347},
						{"PL":21.5,"CPM":0.61940411056605},
						{"PL":22,"CPM":0.626567125320434},
						{"PL":22.5,"CPM":0.633649181622743},
						{"PL":23,"CPM":0.640652954578399},
						{"PL":23.5,"CPM":0.647580963301656},
						{"PL":24,"CPM":0.654435634613037},
						{"PL":24.5,"CPM":0.661219263506722},
						{"PL":25,"CPM":0.667934000492096},
						{"PL":25.5,"CPM":0.674581899290818},
						{"PL":26,"CPM":0.681164920330047},
						{"PL":26.5,"CPM":0.687684905887771},
						{"PL":27,"CPM":0.694143652915954},
						{"PL":27.5,"CPM":0.700542893277978},
						{"PL":28,"CPM":0.706884205341339},
						{"PL":28.5,"CPM":0.713169102333341},
						{"PL":29,"CPM":0.719399094581604},
						{"PL":29.5,"CPM":0.725575616972598},
						{"PL":30,"CPM":0.731700003147125},
						{"PL":30.5,"CPM":0.734741011137376},
						{"PL":31,"CPM":0.737769484519958},
						{"PL":31.5,"CPM":0.740785574597326},
						{"PL":32,"CPM":0.743789434432983},
						{"PL":32.5,"CPM":0.746781208702482},
						{"PL":33,"CPM":0.749761044979095},
						{"PL":33.5,"CPM":0.752729105305821},
						{"PL":34,"CPM":0.75568550825119},
						{"PL":34.5,"CPM":0.758630366519684},
						{"PL":35,"CPM":0.761563837528228},
						{"PL":35.5,"CPM":0.764486065255226},
						{"PL":36,"CPM":0.767397165298461},
						{"PL":36.5,"CPM":0.77029727397159},
						{"PL":37,"CPM":0.77318650484085},
						{"PL":37.5,"CPM":0.776064945942412},
						{"PL":38,"CPM":0.778932750225067},
						{"PL":38.5,"CPM":0.781790064808426},
						{"PL":39,"CPM":0.784636974334716},
						{"PL":39.5,"CPM":0.787473583646825},
						{"PL":40,"CPM":0.790300011634826},
						{"PL":40.5,"CPM":0.792803950958807},
						{"PL":41,"CPM":0.795300006866455},
						{"PL":41.5,"CPM":0.79780392148697},
						{"PL":42,"CPM":0.800300002098083},
						{"PL":42.5,"CPM":0.802803892322847},
						{"PL":43,"CPM":0.805299997329711},
						{"PL":43.5,"CPM":0.807803863460723},
						{"PL":44,"CPM":0.81029999256134},
						{"PL":44.5,"CPM":0.812803834895026},
						{"PL":45,"CPM":0.815299987792968},
						{"PL":45.5,"CPM":0.817803806620319},
						{"PL":46,"CPM":0.820299983024597},
						{"PL":46.5,"CPM":0.822803778631297},
						{"PL":47,"CPM":0.825299978256225},
						{"PL":47.5,"CPM":0.827803750922782},
						{"PL":48,"CPM":0.830299973487854},
						{"PL":48.5,"CPM":0.832803753381377},
						{"PL":49,"CPM":0.835300028324127},
						{"PL":49.5,"CPM":0.837803755931569},
						{"PL":50,"CPM":0.840300023555755},
						{"PL":50.5,"CPM":0.842803729034748},
						{"PL":51,"CPM":0.845300018787384},
						{"PL":51.5,"CPM":0.847803702398935},
						{"PL":52,"CPM":0.850300014019012},
						{"PL":52.5,"CPM":0.852803676019539},
						{"PL":53,"CPM":0.85530000925064},
						{"PL":53.5,"CPM":0.857803649892077},
						{"PL":54,"CPM":0.860300004482269},
						{"PL":54.5,"CPM":0.862803624012168},
						{"PL":55,"CPM":0.865299999713897},
						{"PL":55.5,"CPM":1}
					];

					//{"name" : "", "a" : , "b" : , "h" : , "no" : "" , flug : 0},

					var poke_data = [

						{"name" : "インテレオン", "a" : 262, "b" : 142 , "h" : 172 , "no" : "818" , flug : 1},
						{"name" : "ゲンガー",     "a" : 261, "b" : 149 , "h" : 155 , "no" : "094" , flug : 2},
						{"name" : "ギガイアス",   "a" : 226, "b" : 201 , "h" : 198 , "no" : "526" , flug : 0},
						{"name" : "ムゲンダイナ", "a" : 278, "b" : 192 , "h" : 268 , "no" : "890" , flug : 3},
						{"name" : "ザシアン",     "a" : 332, "b" : 240 , "h" : 192 , "no" : "888" , flug : 0},
						{"name" : "キングラー",   "a" : 240, "b" : 181 , "h" : 146 , "no" : "099" , flug : 0},
						{"name" : "ゴリランダー", "a" : 239, "b" : 168 , "h" : 225 , "no" : "812" , flug : 0},
						{"name" : "エースバーン", "a" : 238, "b" : 163 , "h" : 190 , "no" : "815" , flug : 0},
						{"name" : "カイリキー",   "a" : 234, "b" : 159 , "h" : 207 , "no" : "068" , flug : 0},
						{"name" : "オーロンゲ",   "a" : 227, "b" : 139 , "h" : 216 , "no" : "861" , flug : 0},
						{"name" : "ストリンダー", "a" : 224, "b" : 140 , "h" : 181 , "no" : "849" , flug : 0},
						{"name" : "リザードン",   "a" : 223, "b" : 173 , "h" : 186 , "no" : "006" , flug : 0},
						{"name" : "フーディン",   "a" : 271, "b" : 167 , "h" : 146 , "no" : "065" , flug : 0},
					];
					for (let i = 0; i < poke_data.length; i++) {
						if (poke_data[i].flug != 0) {
							$('#poke'+poke_data[i].flug).append('<option value="'+i+'" selected>'+poke_data[i].name+'</option>');
						}
						$('#poke1').append('<option value="'+i+'">'+poke_data[i].name+'</option>');
						$('#poke2').append('<option value="'+i+'">'+poke_data[i].name+'</option>');
						$('#poke3').append('<option value="'+i+'">'+poke_data[i].name+'</option>');
					}

					function pokeCal(){
						poke1 = Number($('#damagecacl [name=poke1]').val());
						poke2 = Number($('#damagecacl [name=poke2]').val());
						poke3 = Number($('#damagecacl [name=poke3]').val());

						$("#poke1_img").html('<img src="img/'+ poke_data[poke1].no +'.png" class="pokeimg">');
						poke1_cpm = cpm[(Number($('#damagecacl [name=poke1_l]').val())-1)*2].CPM;
						poke1_a = (poke_data[poke1].a+Number($('#damagecacl [name=poke1_a]').val())) * poke1_cpm;
						poke1_b = (poke_data[poke1].b+Number($('#damagecacl [name=poke1_b]').val())) * poke1_cpm;
						poke1_h = Math.floor((poke_data[poke1].h+Number($('#damagecacl [name=poke1_h]').val())) * poke1_cpm);
						$("#poke1_a_w").html(Math.round(poke1_a*100)/100);
						$("#poke1_b_w").html(Math.round(poke1_b*100)/100);
						$("#poke1_h_w").html(poke1_h);
						$("#poke1_a_index").html(Math.round(poke1_a * poke_week_cal(Number($('#damagecacl [name=poke1_week]').val())) * Number($('#damagecacl [name=poke1_a_l]').val())));


						$("#poke2_img").html('<img src="img/'+ poke_data[poke2].no +'.png" class="pokeimg">');
						poke2_cpm = cpm[(Number($('#damagecacl [name=poke2_l]').val())-1)*2].CPM;
						poke2_a = (poke_data[poke2].a+Number($('#damagecacl [name=poke2_a]').val())) * poke2_cpm;
						poke2_b = (poke_data[poke2].b+Number($('#damagecacl [name=poke2_b]').val())) * poke2_cpm;
						poke2_h = Math.floor((poke_data[poke2].h+Number($('#damagecacl [name=poke2_h]').val())) * poke2_cpm);
						$("#poke2_a_w").html(Math.round(poke2_a*100)/100);
						$("#poke2_b_w").html(Math.round(poke2_b*100)/100);
						$("#poke2_h_w").html(poke2_h);
						$("#poke2_a_index").html(Math.round(poke2_a * poke_week_cal(Number($('#damagecacl [name=poke2_week]').val())) * Number($('#damagecacl [name=poke2_a_l]').val())));

						$("#poke3_img").html('<img src="img/'+ poke_data[poke3].no +'.png" class="pokeimg">');
						poke3_cpm = cpm[(Number($('#damagecacl [name=poke3_l]').val())-1)*2].CPM;
						poke3_a = (poke_data[poke3].a+Number($('#damagecacl [name=poke3_a]').val())) * poke3_cpm;
						poke3_b = (poke_data[poke3].b+Number($('#damagecacl [name=poke3_b]').val())) * poke3_cpm;
						poke3_h = Math.floor((poke_data[poke3].h+Number($('#damagecacl [name=poke3_h]').val())) * poke3_cpm);
						$("#poke3_a_w").html(Math.round(poke3_a*100)/100);
						$("#poke3_b_w").html(Math.round(poke3_b*100)/100);
						$("#poke3_h_w").html(poke3_h);
						$("#poke3_a_index").html(Math.round(poke3_a * poke_week_cal(Number($('#damagecacl [name=poke3_week]').val())) * Number($('#damagecacl [name=poke3_a_l]').val())));
					}

					function poke_week_cal(week) {
						switch (week) {
							case 0:
								return 1;
							break;
							case 1:
								return 1/1.6;
							break;
							case 2:
								return 1/1.6/1.6;
							break;
							case 3:
								return 1.6;
							break;
							case 4:
								return 1.6*1.6;
							break;
						}
						return 100;
					}


					$("#damagecacl").on('click keydown keyup keypress change',function () {
						pokeCal();
					});
			</script>
		</div>
	</main>
	<footer class="footer py-3"> </footer>
</body>
</html>
